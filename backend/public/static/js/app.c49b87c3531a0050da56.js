webpackJsonp([1],{"1/oy":function(t,e){},"1Lk6":function(t,e){},"9M+g":function(t,e){},GfHa:function(t,e){},Id91:function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),a=s("mvHQ"),o=s.n(a),i=s("NYxO"),r=s("mtWM"),l=s.n(r);n.a.use(i.a);var c=new i.a.Store({state:{accessToken:null,userID:"Guest",userName:"Anonymous",logonStatus:!1},getters:{userInfo:function(t){return{userID:t.userID,userName:t.userName,logonStatus:t.logonStatus}}},mutations:{LOGIN:function(t,e){var s=e.accessToken,n=e.userID,a=e.userName;t.accessToken=s,t.userID=n,t.userName=a,t.logonStatus=!0,l.a.defaults.headers.common.Authorization="Bearer "+s,localStorage.sessionData=o()({accessToken:s,userID:n,userName:a})},LOGOUT:function(t){t.accessToken=null,t.userID="Guest",t.userName="Anonymous",t.logonStatus=!1,l.a.defaults.headers.common.Authorization=void 0,delete localStorage.sessionData}},actions:{LOGIN:function(t,e){var s=t.commit,n=e.id,a=e.password;return l.a.post("auth/login",{id:n,password:a}).then(function(t){var e=t.data;s("LOGIN",e)})},LOGOUT:function(t){(0,t.commit)("LOGOUT")},REFRESH:function(t){var e=t.commit;return l.a.post("auth/refresh").then(function(t){var s=t.data;e("LOGIN",s)}).catch(function(t){e("LOGOUT")})}}});!function(){try{var t=JSON.parse(localStorage.sessionData);if(!t.accessToken)return;c.commit("LOGIN",t),c.dispatch("REFRESH")}catch(t){}}();var u=c,m=s("/ocq"),d={data:function(){return{remaining:10}},created:function(){var t=this,e=setInterval(function(){0==--t.remaining&&(t.$router.replace({name:"home"}),clearInterval(e))},1e3)}},v={render:function(){var t=this.$createElement,e=this._self._c||t;return e("b-container",{staticClass:"p-5"},[e("h1",[this._v("Sorry, this page is not supported!")]),this._v(" "),e("p",[this._v("You may accessed wrong page or urls that server does not serve.")]),this._v(" "),e("p",[this._v("And will be automatically redirected to our home page in "+this._s(this.remaining)+" seconds")])])},staticRenderFns:[]},h=s("VU/8")(d,v,!1,null,null,null).exports,p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("b-container",[e("b-img",{attrs:{fluid:"",src:"https://coda.newjobs.com/api/imagesproxy/ms/niche/images/can/film.jpg"}}),this._v(" "),e("h1",[this._v("Welcome to ATM!")]),this._v(" "),e("p",[this._v("You can find the movies you want, and reservate it here at once")])],1)},staticRenderFns:[]},b=s("VU/8")({},p,!1,null,null,null).exports,f=s("Gu7T"),g=s.n(f),_={name:"account",data:function(){return{privates:{},editing:!1,styleObj:{backgroundColor:"white",border:"none"},reservations:[],loadPoint:1,loadCount:5,isEnd:!1,fields:[{key:"ReservationID",label:"ID",sortable:!0},{key:"MovieTitle",label:"Movie"},{key:"TotalPrice",label:"Price",sortable:!0},{key:"AdultTicketCount",label:"Adult"},{key:"YouthTicketCount",label:"Youth"},{key:"ReservedDate",label:"Reserved At",sortable:!0},{key:"CinemaName",label:"Cinema",sortable:!0},{key:"RoomName",label:"Room"},{key:"Seats",label:"Seats"},{key:"PlayDate",label:"Play At",sortable:!0}]}},created:function(){this.bringPrivates(),this.bringReservations()},methods:{bringPrivates:function(){var t=this;this.$http.get("auth/account",{}).then(function(e){var s=e.data;"M"==s.Gender?s.Gender="Male":"F"==s.Gender&&(s.Gender="Female"),t.privates=s})},updatePrivates:function(){var t=this;this.$http.put("auth/account",{contactNumber:this.privates.ContactNumber,address:this.privates.Address,email:this.privates.Email}).then(function(e){t.editing=!1}).catch(function(t){alert(t.message)})},deleteAccount:function(){var t=this;confirm("ALL ACCOUNT INFORMATIONS WILL BE DELETED PERMANENTLY.\n\n  Are you sure?")&&this.$http.delete("auth/account").then(function(e){t.$store.dispatch("LOGOUT"),t.$router.replace({name:"home"})}).catch(function(t){alert(t.message)})},bringReservations:function(){var t=this;this.$http.get("auth/account/reservation",{from:this.loadPoint,to:this.loadPoint+this.loadCount-1}).then(function(e){var s,n=e.data;n.length>0&&((s=t.reservations).push.apply(s,g()(n)),t.loadPoint+=n.length);(n.length<t.loadCount||n.length<=0)&&(t.isEnd=!0)})},cancelReservation:function(t){var e=this,s=t.ReservationID;confirm("Cancel reservation for "+s+"?")&&this.$http.delete("api/reservate/"+s).then(function(t){e.reservations=e.reservations.filter(function(t){return t.ReservationID!=s})}).catch(function(t){alert(t.message)})}}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("b-container",{attrs:{fluid:""}},[s("b-row",{staticClass:"my-4"},[s("b-col",[s("b-card",{attrs:{title:t.privates.CustomerID,"sub-title":t.privates.CustomerName+" ("+t.privates.Age+", "+t.privates.Gender+")"}},[s("b-container",{staticClass:"p-1",attrs:{fluid:""}},[s("b-row",{staticClass:"my-1"},[s("b-col",{attrs:{sm:"2",md:"1"}},[s("label",{staticClass:"font-weight-bold",attrs:{for:"contactInput"}},[t._v("Contact:")])]),t._v(" "),s("b-col",[s("b-input",{style:t.editing?null:t.styleObj,attrs:{id:"contactInput",type:"text",size:"sm",disabled:!t.editing},model:{value:t.privates.ContactNumber,callback:function(e){t.$set(t.privates,"ContactNumber",e)},expression:"privates.ContactNumber"}})],1)],1),t._v(" "),s("b-row",{staticClass:"my-1"},[s("b-col",{attrs:{sm:"2",md:"1"}},[s("label",{staticClass:"font-weight-bold",attrs:{for:"addrInput"}},[t._v("Address:")])]),t._v(" "),s("b-col",[s("b-input",{style:t.editing?null:t.styleObj,attrs:{id:"addrInput",type:"text",size:"sm",disabled:!t.editing},model:{value:t.privates.Address,callback:function(e){t.$set(t.privates,"Address",e)},expression:"privates.Address"}})],1)],1),t._v(" "),s("b-row",{staticClass:"my-1"},[s("b-col",{attrs:{sm:"2",md:"1"}},[s("label",{staticClass:"font-weight-bold",attrs:{for:"emailInput"}},[t._v("Email:")])]),t._v(" "),s("b-col",[s("b-input",{style:t.editing?null:t.styleObj,attrs:{id:"emailInput",type:"email",size:"sm",disabled:!t.editing},model:{value:t.privates.Email,callback:function(e){t.$set(t.privates,"Email",e)},expression:"privates.Email"}})],1)],1),t._v(" "),s("b-row",{staticClass:"mt-3 mr-2",attrs:{"align-h":"start"}},[t.editing?s("div",[s("b-button",{staticClass:"ml-3 mr-1",attrs:{variant:"secondary"},on:{click:function(e){t.editing=!1}}},[t._v("Cancel")]),t._v(" "),s("b-button",{staticClass:"mr-1",attrs:{variant:"success"},on:{click:t.updatePrivates}},[t._v("OK, Update!")]),t._v(" "),s("b-button",{staticClass:"mr-1",attrs:{variant:"danger"},on:{click:t.deleteAccount}},[t._v("Delete Account")])],1):s("b-button",{staticClass:"ml-3",attrs:{variant:"primary"},on:{click:function(e){t.editing=!0}}},[t._v("Edit Profile")])],1)],1)],1)],1)],1),t._v(" "),s("b-row",{staticClass:"mt-2 px-3"},[t.reservations.length>0?s("b-table",{attrs:{hover:"",items:t.reservations,fields:t.fields},on:{"row-clicked":t.cancelReservation}}):s("h2",{staticClass:"mx-3 mt-3 mb-5"},[t._v("You have no reservations.")])],1)],1)],1)},staticRenderFns:[]},y=s("VU/8")(_,C,!1,null,null,null).exports,I={props:["id","MovieID","MovieTitle","ReleaseDate","PlayTime","Genre","Director","Actors","Description","PosterIMG"],data:function(){return{prevID:-1,comments:[],loadPoint:1,loadCount:5,isEnd:!1,newComment:{rate:0,content:""}}},computed:{logonStatus:function(){return this.$store.getters.userInfo.logonStatus},isValidated:function(){return this.newComment.content.length>0&&this.newComment.content.length<=200}},methods:{reload:function(){this.comments=[],this.loadPoint=1,this.isEnd=!1,this.newComment.rate=0,this.newComment.content="",this.bringComments(this.loadCount)},hideModal:function(){this.$refs.movieInfoModal.hide()},starConvert:function(t){return"★".repeat(t/2)+"☆".repeat(5-t/2)},bringComments:function(t){var e=this;this.isEnd||this.$http.get("api/comment",{params:{movieID:this.MovieID,from:this.loadPoint,to:this.loadPoint+t-1}}).then(function(s){var n,a=s.data;a.length>0&&((n=e.comments).push.apply(n,g()(a)),e.loadPoint+=a.length);(a.length<t||0===a.length)&&(e.isEnd=!0)})},reloadComments:function(){this.comments=[],this.loadPoint=1,this.isEnd=!1,this.bringComments(2*this.loadCount)},addComment:function(){var t=this;this.$http.post("api/comment",{movieID:this.MovieID,rate:this.newComment.rate,content:this.newComment.content}).then(function(e){t.reloadComments()}).catch(function(t){var e=t.response.data.message||t.message;alert(e)})},deleteComment:function(t){var e=this;this.$http.delete("api/comment/"+t).then(function(t){e.reloadComments()}).catch(function(t){var e=t.response.data.message||t.message;alert(e)})}}},k={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{ref:"movieInfoModal",attrs:{id:this.id,size:"lg","hide-header":"","hide-footer":""},on:{shown:t.reload}},[s("b-container",[s("b-img",{staticClass:"mt-3",attrs:{fluid:"",thumbnail:"",src:this.PosterIMG}}),t._v(" "),s("h1",{staticClass:"mx-2 mt-2 mb-3",staticStyle:{display:"inline-block"}},[t._v(t._s(t.MovieTitle))]),s("b-badge",{attrs:{variant:"info"}},[t._v(t._s(t.Genre))]),t._v(" "),s("p",{staticClass:"my-1"},[s("strong",[t._v("PlayTime:")]),t._v(" "+t._s(t.PlayTime))]),t._v(" "),s("p",{staticClass:"my-1"},[s("strong",[t._v("Released Date:")]),t._v(" "+t._s(t.ReleaseDate))]),t._v(" "),s("p",{staticClass:"my-1"},[s("strong",[t._v("Director:")]),t._v(" "+t._s(t.Director))]),t._v(" "),s("p",{staticClass:"my-1"},[s("strong",[t._v("Actors:")]),t._v(" "+t._s(t.Actors))]),t._v(" "),s("p",{staticClass:"mt-1 mb-2"},[s("strong",[t._v("Description:")])]),t._v(" "),s("pre",{staticClass:"mx-2 mt-1 mb-3"},[t._v(t._s(t.Description))]),t._v(" "),s("div",[s("p",{staticClass:"mb-1"},[s("strong",[t._v("Comments:")])]),t._v(" "),s("b-card-group",{staticClass:"my-3",attrs:{columns:""}},t._l(t.comments,function(e){return s("b-card",{key:e.CommentID,staticClass:"mx-0"},[s("strong",{staticClass:"mr-1"},[t._v(t._s(e.CustomerID))]),t._v(" "),s("small",{staticClass:"mr-2"},[t._v(t._s(e.PostDate))]),t._v(" "),s("p",{staticClass:"text-warning"},[t._v(t._s(t.starConvert(e.Rate)))]),t._v(" "),s("b-button",{staticClass:"float-right",attrs:{size:"sm",variant:"light"},on:{click:function(s){t.deleteComment(e.CommentID)}}},[t._v("×")]),t._v(" "),s("p",{staticClass:"ml-2 my-1",staticStyle:{"text-overflow":"clip"}},[t._v(t._s(e.Content))])],1)})),t._v(" "),s("b-button",{staticClass:"mb-2",attrs:{block:"",disabled:t.isEnd,variant:"secondary"},on:{click:t.bringComments}},[t._v("See more comments")]),t._v(" "),s("b-form",{on:{submit:function(e){return e.preventDefault(),t.addComment(e)}}},[s("b-form-textarea",{attrs:{id:"textarea1","no-resize":"",rows:3,"max-rows":5,readonly:!t.logonStatus,placeholder:t.logonStatus?"You can write maximum 200 characters":"Please login to make comment"},model:{value:t.newComment.content,callback:function(e){t.$set(t.newComment,"content",e)},expression:"newComment.content"}}),t._v(" "),s("b-input-group",{staticClass:"mt-2",attrs:{prepend:"&bigstar;"}},[s("b-form-select",{attrs:{disabled:!t.logonStatus},model:{value:t.newComment.rate,callback:function(e){t.$set(t.newComment,"rate",e)},expression:"newComment.rate"}},t._l(6,function(e){return s("option",{key:e,domProps:{value:2*(e-1)}},[t._v(t._s(t.starConvert(2*e-2)))])}))],1),t._v(" "),s("b-button",{staticClass:"mt-2 mb-3 float-right",attrs:{type:"submit",variant:"primary",disabled:!t.isValidated}},[t._v("Comment")])],1)],1)],1),t._v(" "),s("b-btn",{staticClass:"mt-3",attrs:{block:"",variant:"outline-danger"},on:{click:t.hideModal}},[t._v("Close")])],1)},staticRenderFns:[]},w={components:{"movie-info":s("VU/8")(I,k,!1,null,null,null).exports},created:function(){var t=this;window.onscroll=function(){document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight&&t.bringMovies()},this.bringMovies()},data:function(){return{movies:[],selectedMovie:-1,loadPoint:1,loadCount:8,isEnd:!1,btnText:"Bring some more"}},methods:{bringMovies:function(){var t=this;this.isEnd||this.$http.get("api/movie",{params:{from:this.loadPoint,to:this.loadPoint+this.loadCount-1,search:this.$route.query.searchOption||""}}).then(function(e){var s,n=e.data;n.length>0&&(t.movies.length>0?n.map(function(e){-1===t.movies.findIndex(function(t){return t.MovieID===e.MovieID})&&(t.movies.push(e),t.loadPoint++)}):((s=t.movies).push.apply(s,g()(n)),t.loadPoint+=n.length));(n.length<t.loadCount||n.length<=0)&&(t.isEnd=!0,t.btnText="We brougth all the movies to you")})},showMovieInfo:function(t){this.selectedMovie=this.movies.findIndex(function(e){return e.MovieID===t}),this.$root.$emit("bv::show::modal","movieInfo")}}},D={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{attrs:{fluid:""}},[s("b-card-group",{attrs:{deck:""}},t._l(t.movies,function(e){return s("b-card",{key:e.MovieID,staticClass:"mx-1 my-1 local-card",attrs:{"img-fluid":"","img-top":"","img-src":e.PosterIMG,title:e.MovieTitle,"img-alt":e.MovieTitle},on:{click:function(s){t.showMovieInfo(e.MovieID)}}},[s("b-badge",{staticClass:"local-badge",attrs:{variant:"info"}},[t._v(t._s(e.Genre))])],1)})),t._v(" "),s("b-button",{staticClass:"my-2",attrs:{block:"",variant:"outline-primary",Disabled:t.isEnd},on:{click:t.bringMovies}},[t._v(t._s(t.btnText))]),t._v(" "),s("movie-info",t._b({attrs:{id:"movieInfo"}},"movie-info",this.movies[t.selectedMovie],!1))],1)},staticRenderFns:[]};var x=s("VU/8")(w,D,!1,function(t){s("1Lk6")},"data-v-72934f8d",null).exports,S=s("BO1k"),F=s.n(S),M={data:function(){return{cinemas:[],movies:[],schedules:[],curSch:{},schForm:{movieID:-1,cinemaID:-1,date:""},resForm:{youthNum:0,adultNum:0,selectedSeats:[]}}},created:function(){var t=this;this.$http.get("api/cinema",{}).then(function(e){var s=e.data;t.cinemas=s}),this.$http.get("api/movie",{params:{from:1,to:100}}).then(function(e){var s=e.data;t.movies=s})},methods:{seatConv:function(t,e){return""+String.fromCharCode(65+t-1)+e},seatsToggle:function(t,e){var s=this.resForm.selectedSeats,n=s.indexOf(this.seatConv(t,e));-1!=n?(s.splice(n,1),this.resForm.adultNum>0?this.resForm.adultNum--:this.resForm.youthNum--):s.length<10?(s.push(this.seatConv(t,e)),this.resForm.adultNum=s.length-this.resForm.youthNum):alert("Cannot reserve more than 10 seats")},bringSchedules:function(){var t=this;this.schForm.movieID<0||this.schForm.cinemaID<0||!this.schForm||this.$http.get("api/reservate",{params:{movieID:this.schForm.movieID,cinemaID:this.schForm.cinemaID,date:this.schForm.date}}).then(function(e){var s=e.data;0==s.length&&(t.curSch={}),t.schedules=s})},reservate:function(){var t=this,e=[],s=!0,n=!1,a=void 0;try{for(var o,i=F()(this.resForm.selectedSeats);!(s=(o=i.next()).done);s=!0){var r=o.value,l={rowNo:r[0],columnNo:r.slice(1)};e.push(l)}}catch(t){n=!0,a=t}finally{try{!s&&i.return&&i.return()}finally{if(n)throw a}}this.$http.post("api/reservate",{cinemaID:this.schForm.cinemaID,roomID:this.curSch.RoomID,scheduleID:this.curSch.ScheduleID,youthNum:this.resForm.youthNum,selectedSeats:e}).then(function(e){alert("Reservated successfully"),t.$router.push({name:"account"})}).catch(function(t){alert(t.response.data.message||t.message)})}}},$={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{attrs:{fluid:""}},[s("b-row",{staticClass:"mt-3 mb-1"},[s("b-col",{attrs:{cols:"4"}},[s("strong",[t._v("Movie")]),t._v(" "),s("b-form-select",{staticClass:"mb-3",attrs:{"select-size":10},on:{input:t.bringSchedules},model:{value:t.schForm.movieID,callback:function(e){t.$set(t.schForm,"movieID",e)},expression:"schForm.movieID"}},t._l(t.movies,function(e){return s("option",{key:e.MovieID,domProps:{value:e.MovieID}},[t._v("\n\t\t\t\t\t\t"+t._s(e.MovieTitle)+"\n\t\t\t\t\t")])}))],1),t._v(" "),s("b-col",{attrs:{cols:"4"}},[s("strong",[t._v("Cinema")]),t._v(" "),s("b-form-select",{staticClass:"mb-3",attrs:{"select-size":10},on:{input:t.bringSchedules},model:{value:t.schForm.cinemaID,callback:function(e){t.$set(t.schForm,"cinemaID",e)},expression:"schForm.cinemaID"}},t._l(t.cinemas,function(e){return s("option",{key:e.CinemaID,domProps:{value:e.CinemaID}},[t._v("\n\t\t\t\t\t\t"+t._s(e.CinemaName)+"\n\t\t\t\t\t")])}))],1),t._v(" "),s("b-col",{attrs:{cols:"4"}},[s("strong",[t._v("Schedule")]),t._v(" "),s("b-form-select",{staticClass:"mb-3",attrs:{"select-size":10},model:{value:t.curSch,callback:function(e){t.curSch=e},expression:"curSch"}},t._l(t.schedules,function(e){return s("option",{key:e.ScheduleID,domProps:{value:e}},[t._v("\n\t\t\t\t\t\t"+t._s(e.RoomName)+", "+t._s(e.PlayDate)+"\n\t\t\t\t\t")])}))],1)],1),t._v(" "),s("b-row",{staticClass:"mb-4"},[s("b-col",{attrs:{cols:"8"}},[s("strong",[t._v("Play At")]),t._v(" "),s("b-form-input",{attrs:{type:"date"},on:{change:t.bringSchedules},model:{value:t.schForm.date,callback:function(e){t.$set(t.schForm,"date",e)},expression:"schForm.date"}})],1),t._v(" "),s("b-col",{attrs:{cols:"2"}},[s("strong",[t._v("Youth")]),t._v(" "),s("b-form-input",{attrs:{type:"number",min:"0",max:t.resForm.selectedSeats.length,step:"1"},on:{input:function(e){t.resForm.adultNum=t.resForm.selectedSeats.length-t.resForm.youthNum}},model:{value:t.resForm.youthNum,callback:function(e){t.$set(t.resForm,"youthNum",e)},expression:"resForm.youthNum"}})],1),t._v(" "),s("b-col",{attrs:{cols:"2"}},[s("strong",[t._v("Adult")]),t._v(" "),s("b-form-input",{attrs:{type:"number",min:"0",max:t.resForm.selectedSeats.length,step:"1"},on:{input:function(e){t.resForm.youthNum=t.resForm.selectedSeats.length-t.resForm.adultNum}},model:{value:t.resForm.adultNum,callback:function(e){t.$set(t.resForm,"adultNum",e)},expression:"resForm.adultNum"}})],1)],1),t._v(" "),s("b-row",{staticClass:"mb-4"},[s("b-col",{attrs:{cols:"12"}},[s("strong",[t._v("Select Seats")]),t._v(" "),0===Object.keys(t.curSch).length&&t.curSch.constructor===Object?s("h2",{staticClass:"ml-3 my-4"},[t._v("\n\t\t\t\t\tThere's no schedules available for this prerequisites.\n\t\t\t\t")]):s("b-button-group",{staticClass:"d-block",attrs:{vertical:""}},t._l(t.curSch.RowMax,function(e){return s("b-button-group",{key:e,attrs:{size:"sm"}},t._l(t.curSch.ColumnMax,function(n){return s("b-button",{key:n,attrs:{disabled:(t.curSch.SeatsUnavailable||[]).includes(t.seatConv(e,n)),pressed:t.resForm.selectedSeats.includes(t.seatConv(e,n))},on:{click:function(s){t.seatsToggle(e,n)}}},[t._v(t._s(t.seatConv(e,n)))])}))}))],1)],1),t._v(" "),s("b-row",[s("b-button",{staticClass:"my-1 mb-2",attrs:{block:""},on:{click:t.reservate}},[t._v("Reservate")])],1)],1)},staticRenderFns:[]},N=s("VU/8")(M,$,!1,null,null,null).exports;n.a.use(m.a);var R=new m.a({mode:"history",routes:[{path:"*",component:h},{path:"/",name:"home",component:b},{path:"/account",name:"account",component:y,beforeEnter:function(t,e,s){u.getters.userInfo.logonStatus?s():s("/")}},{path:"/movie",name:"movie",component:x},{path:"/reservate",name:"reservate",component:N}]}),E=s("e6fC"),O=(s("Jmt5"),s("9M+g"),{render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-navbar",{attrs:{type:"dark",sticky:"",variant:"dark",toggleable:"sm"}},[s("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),t._v(" "),s("b-navbar-brand",{attrs:{to:{name:"home"}}},[t._v("ATM")]),t._v(" "),s("b-collapse",{attrs:{id:"nav_collapse","is-nav":""}},[s("b-navbar-nav",[s("b-nav-item",{attrs:{to:{name:"movie",params:{searchOption:""}}}},[t._v("Movie")]),t._v(" "),s("b-nav-item",{attrs:{to:{name:"reservate"}}},[t._v("Reservate")])],1),t._v(" "),s("b-navbar-nav",{staticClass:"ml-auto"},[s("b-nav-form",{on:{submit:function(e){return e.preventDefault(),t.searchMovie(e)}}},[s("b-form-input",{staticClass:"ml-sm-3",staticStyle:{width:"70%"},attrs:{type:"text",size:"sm",placeholder:"Search Movie"},model:{value:t.searchOption,callback:function(e){t.searchOption=e},expression:"searchOption"}}),t._v(" "),s("b-button",{staticClass:"ml-1 mt-sm-0",attrs:{type:"submit",size:"sm"}},[t._v("GO")])],1),t._v(" "),s("b-nav-item-dropdown",{staticClass:"ml-sm-3",attrs:{right:"",text:t.userInfo.userID}},[s("b-dropdown-item",{attrs:{disabled:!t.userInfo.logonStatus,to:{name:"account"}}},[t._v("\n                    "+t._s(t.userInfo.userName)+"\n                ")]),t._v(" "),t.userInfo.logonStatus?s("b-dropdown-item",{on:{click:t.onLogout}},[t._v("Log Out")]):s("b-dropdown-item",{on:{click:t.showModal}},[t._v("Log In")])],1)],1)],1)],1)},staticRenderFns:[]}),P=s("VU/8")({data:function(){return{searchOption:""}},computed:{userInfo:function(){return this.$store.getters.userInfo}},methods:{searchMovie:function(){this.$router.push({name:"movie",query:{searchOption:this.searchOption}})},showModal:function(){this.$root.$emit("bv::show::modal","loginModal")},onLogout:function(){this.$store.dispatch("LOGOUT"),this.$router.replace({name:"home"})}}},O,!1,null,null,null).exports,T={render:function(){var t=this.$createElement,e=this._self._c||t;return e("b-jumbotron",{attrs:{header:"All The Movies",lead:"Made by 14109359 Yuchan Lee","bg-variant":"dark","text-variant":"light"}},[e("hr",{staticClass:"mb-4"}),this._v(" "),e("p",[this._v("Movie Data and Image Samples from https://movie.naver.com/")])])},staticRenderFns:[]},A=s("VU/8")({},T,!1,null,null,null).exports,L={data:function(){return{id:"",password:""}},methods:{toRegister:function(){this.$emit("toRegister")},loginRequest:function(t,e){var s=this;this.$store.dispatch("LOGIN",{id:t,password:e}).then(function(){s.$root.$emit("bv::hide::modal","loginModal")}).catch(function(t){alert(t.message)})}}},G={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{staticClass:"p-2"},[s("h2",{staticClass:"mb-4"},[t._v("Log In")]),t._v(" "),s("b-form",{on:{submit:function(e){e.preventDefault(),t.loginRequest(t.id,t.password)}}},[s("b-form-input",{staticClass:"my-1",staticStyle:{"letter-spacing":"4px"},attrs:{type:"text",required:"",placeholder:t.id?null:"ID"},model:{value:t.id,callback:function(e){t.id=e},expression:"id"}}),t._v(" "),s("b-form-input",{staticClass:"my-1",staticStyle:{"letter-spacing":"4px"},attrs:{type:"password",required:"",placeholder:t.password?null:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("b-button",{staticClass:"mt-2",attrs:{type:"submit",size:"lg",block:"",variant:"primary"}},[t._v("Log In")]),t._v(" "),s("b-button",{staticClass:"mt-1",attrs:{type:"button",size:"lg",block:"",variant:"secondary"},on:{click:t.toRegister}},[t._v("Register")])],1)],1)},staticRenderFns:[]},U={data:function(){return{id:"",password:"",name:"",gender:"",age:""}},methods:{toLogin:function(){this.$emit("toLogin")},regRequest:function(t){var e=this;this.$http.post("auth/register",{id:this.id,password:this.password,name:this.name,gender:this.gender,age:this.age}).then(function(t){e.toLogin()}).catch(function(t){alert(t.message)})}}},z={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{staticClass:"p-2"},[s("h2",{staticClass:"mb-4"},[t._v("Register")]),t._v(" "),s("b-form",{on:{submit:function(e){return e.preventDefault(),t.regRequest(e)}}},[s("b-form-input",{staticClass:"my-1",staticStyle:{"letter-spacing":"4px"},attrs:{type:"text",required:"",placeholder:t.id?null:"ID"},model:{value:t.id,callback:function(e){t.id=e},expression:"id"}}),t._v(" "),s("b-form-input",{staticClass:"my-1",staticStyle:{"letter-spacing":"4px"},attrs:{type:"password",required:"",placeholder:t.password?null:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),s("b-form-input",{staticClass:"my-1",staticStyle:{"letter-spacing":"4px"},attrs:{type:"text",required:"",placeholder:t.name?null:"Name"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),s("b-input-group",{staticClass:"my-1"},[s("b-form-input",{staticClass:"mr-1",staticStyle:{"letter-spacing":"4px"},attrs:{type:"number",required:"",placeholder:t.age?null:"Age",min:"0",max:"200"},model:{value:t.age,callback:function(e){t.age=e},expression:"age"}}),t._v(" "),s("b-form-radio-group",{attrs:{required:"",buttons:"","button-variant":"outline-secondary"},model:{value:t.gender,callback:function(e){t.gender=e},expression:"gender"}},[s("b-form-radio",{attrs:{value:"M"}},[t._v("Male")]),t._v(" "),s("b-form-radio",{attrs:{value:"F"}},[t._v("Female")])],1)],1),t._v(" "),s("b-button",{staticClass:"mt-2",attrs:{type:"submit",size:"lg",block:"",variant:"primary"}},[t._v("Sign Up")]),t._v(" "),s("b-button",{staticClass:"mt-1",attrs:{type:"button",size:"lg",block:"",variant:"success"},on:{click:t.toLogin}},[t._v("Log In")])],1)],1)},staticRenderFns:[]},q={components:{"login-page":s("VU/8")(L,G,!1,null,null,null).exports,"register-page":s("VU/8")(U,z,!1,null,null,null).exports},data:function(){return{page:0}}},V={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{id:"loginModal","hide-header":"","hide-footer":"",size:"sm","body-bg-variant":"light"}},[0===t.page?s("login-page",{on:{toRegister:function(e){t.page=1}}}):1===t.page?s("register-page",{on:{toLogin:function(e){t.page=0}}}):t._e()],1)},staticRenderFns:[]},j={name:"app",components:{"app-navigation-bar":P,"app-footer":A,"app-sign-page":s("VU/8")(q,V,!1,null,null,null).exports},created:function(){var t=this;setInterval(function(){t.$store.getters.userInfo.logonStatus&&t.$store.dispatch("REFRESH")},18e4)}},Y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("app-navigation-bar"),this._v(" "),e("router-view",{key:this.$route.fullPath}),this._v(" "),e("app-footer"),this._v(" "),e("app-sign-page")],1)},staticRenderFns:[]},H=s("VU/8")(j,Y,!1,null,null,null).exports;n.a.config.productionTip=!1,n.a.prototype.$http=l.a,n.a.use(E.a),new n.a({el:"#app",store:u,router:R,components:{App:H},template:"<App/>"})},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c49b87c3531a0050da56.js.map