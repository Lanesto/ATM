webpackJsonp([1],{"1/oy":function(t,e){},"9M+g":function(t,e){},GfHa:function(t,e){},Id91:function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s("7+uW"),r=s("e6fC"),i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-navbar",{attrs:{type:"dark",sticky:"",variant:"dark",toggleable:"sm"}},[s("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),t._v(" "),s("b-navbar-brand",{attrs:{to:{name:"home"}}},[t._v("ATM")]),t._v(" "),s("b-collapse",{attrs:{id:"nav_collapse","is-nav":""}},[s("b-navbar-nav",[s("b-nav-item",{attrs:{to:{name:"movie",params:{searchOption:""}}}},[t._v("Movie")]),t._v(" "),s("b-nav-item",{attrs:{to:{name:"reservate"}}},[t._v("Reservate")])],1),t._v(" "),s("b-navbar-nav",{staticClass:"ml-auto"},[s("b-nav-form",{on:{submit:t.searchMovie}},[s("b-form-input",{staticClass:"ml-sm-3",staticStyle:{width:"70%"},attrs:{type:"text",size:"sm",placeholder:"Search Movie"},model:{value:t.searchOption,callback:function(e){t.searchOption=e},expression:"searchOption"}}),t._v(" "),s("b-button",{staticClass:"ml-1 mt-sm-0",attrs:{type:"submit",size:"sm"}},[t._v("GO")])],1),t._v(" "),s("b-nav-item-dropdown",{staticClass:"ml-sm-3",attrs:{right:"",text:t.userId}},[s("b-dropdown-item",{attrs:{disabled:!t.loggedOn,to:{name:"account"}}},[t._v(t._s(t.userName))]),t._v(" "),t.loggedOn?t._e():s("b-dropdown-item",{on:{click:t.showModal}},[t._v("Sign In")]),t._v(" "),t.loggedOn?s("b-dropdown-item",{attrs:{replace:"",to:{name:"home"}},on:{click:t.signOut}},[t._v("Sign Out")]):t._e()],1)],1)],1)],1)},staticRenderFns:[]},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("b-jumbotron",{attrs:{header:"Page created by 14109359 Yuchan Lee"}},[e("p",[this._v("Data Samples from https://movie.naver.com/")]),this._v(" "),e("p",[this._v("E-mail: dldbcks95@naver.com")])])},staticRenderFns:[]},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{ref:"loginModal",attrs:{"hide-header":"","hide-footer":"",size:"sm","body-bg-variant":"light"},on:{hide:t.OnHideModal},model:{value:this.show,callback:function(e){t.$set(this,"show",e)},expression:"this.show"}},[0==t.slide?s("div",[s("b-alert",{staticClass:"mb-2",attrs:{dismissible:"",variant:"danger",show:t.LoginFeedback},on:{dismissed:function(e){t.login.errMsg=""}}},[t._v(t._s(t.login.errMsg))]),t._v(" "),s("h2",{staticClass:"mb-4"},[t._v("Log in")]),t._v(" "),s("b-form",{on:{submit:t.LoginRequest}},[s("b-input-group",{staticClass:"my-2",attrs:{prepend:"ID"}},[s("b-form-input",{attrs:{type:"text",required:""},model:{value:t.login.id,callback:function(e){t.$set(t.login,"id",e)},expression:"login.id"}})],1),t._v(" "),s("b-input-group",{staticClass:"my-2",attrs:{prepend:"Password"}},[s("b-form-input",{attrs:{type:"password",required:""},model:{value:t.login.password,callback:function(e){t.$set(t.login,"password",e)},expression:"login.password"}})],1),t._v(" "),s("b-button",{staticClass:"mt-3",attrs:{type:"submit",block:"",variant:"primary"}},[t._v("Log In")]),t._v(" "),s("b-button",{staticClass:"mt-1",attrs:{type:"button",block:"",variant:"secondary"},on:{click:function(e){t.slide=1}}},[t._v("Register")])],1)],1):t._e(),t._v(" "),1==t.slide?s("div",[s("b-alert",{staticClass:"mb-4",attrs:{dismissible:"",show:t.RegitserFeedback,variant:"danger"},on:{dismissed:function(e){t.register.errMsg=""}}},[t._v(t._s(t.register.errMsg))]),t._v(" "),s("h2",{staticClass:"mb-4"},[t._v("Register")]),t._v(" "),s("b-form",{on:{submit:t.RegisterRequest}},[s("b-input-group",{staticClass:"my-2",attrs:{prepend:"ID"}},[s("b-form-input",{attrs:{type:"text",required:""},model:{value:t.register.id,callback:function(e){t.$set(t.register,"id",e)},expression:"register.id"}})],1),t._v(" "),s("b-input-group",{staticClass:"my-2",attrs:{prepend:"Password"}},[s("b-form-input",{attrs:{type:"password",required:""},model:{value:t.register.password,callback:function(e){t.$set(t.register,"password",e)},expression:"register.password"}})],1),t._v(" "),s("b-input-group",{staticClass:"my-2",attrs:{prepend:"Name"}},[s("b-form-input",{attrs:{required:""},model:{value:t.register.name,callback:function(e){t.$set(t.register,"name",e)},expression:"register.name"}})],1),t._v(" "),s("b-input-group",{staticClass:"my-2",attrs:{prepend:"Age"}},[s("b-form-input",{attrs:{required:""},model:{value:t.register.age,callback:function(e){t.$set(t.register,"age",e)},expression:"register.age"}}),t._v(" "),s("b-form-radio-group",{attrs:{required:"",buttons:"","button-variant":"outline-success"},model:{value:t.register.gender,callback:function(e){t.$set(t.register,"gender",e)},expression:"register.gender"}},[s("b-form-radio",{attrs:{value:"M"}},[t._v("Male")]),t._v(" "),s("b-form-radio",{attrs:{value:"F"}},[t._v("Female")])],1)],1),t._v(" "),s("b-button",{staticClass:"mt-3",attrs:{type:"submit",block:"",variant:"primary"}},[t._v("Sign Up")]),t._v(" "),s("b-button",{staticClass:"mt-1",attrs:{type:"button",block:"",variant:"success"},on:{click:function(e){t.slide=0}}},[t._v("Log In")])],1)],1):t._e()])},staticRenderFns:[]},l={name:"app",components:{"app-navigation-bar":s("VU/8")({props:["user-id","user-name","logged-on"],data:function(){return{searchOption:""}},methods:{searchMovie:function(t){t.preventDefault(),this.$router.push({name:"movie",query:{searchOption:this.searchOption}})},showModal:function(){this.$emit("showLoginModal")},signOut:function(){this.$emit("signOut")}}},i,!1,null,null,null).exports,"app-footer":s("VU/8")({},o,!1,null,null,null).exports,"app-login":s("VU/8")({props:["show"],data:function(){return{slide:0,sliding:!1,login:{id:"",password:"",errMsg:""},register:{id:"",password:"",name:"",gender:"",age:"",errMsg:""}}},computed:{LoginFeedback:function(){return!!this.login.errMsg},RegitserFeedback:function(){return!!this.register.errMsg}},methods:{OnHideModal:function(t){this.$emit("hideModal")},LoginRequest:function(t){var e=this;t.preventDefault(),this.$http.post("auth/login",{id:this.login.id,password:this.login.password}).then(function(t){var s=t.data.token;s&&e.$emit("login",s),e.$refs.loginModal.hide(),e.login.errMsg=""}).catch(function(t){var s="";if(t.response){var n=t.response;s="("+n.status+") "+n.data.message}else t.request,s=t.message;e.login.errMsg="("+n.status+") "+s})},RegisterRequest:function(t){var e=this;t.preventDefault(),this.$http.post("auth/register",{id:this.register.id,password:this.register.password,name:this.register.name,gender:this.register.gender,age:this.register.age}).then(function(t){e.login={id:e.register.id,password:""},e.slide=0,e.register={id:"",password:"",name:"",gender:"",age:""},e.register.errMsg=""}).catch(function(t){var s="";if(t.response){var n=t.response;s="("+n.status+") "+n.data.message}else t.request,s=t.message;e.register.errMsg="("+n.status+") "+s})}}},a,!1,null,null,null).exports},data:function(){return{LMVisible:!1,logonStatus:!1,userID:"Guest",userName:"Guest"}},methods:{showModal:function(){this.LMVisible=!0},hideModal:function(){this.LMVisible=!1},onLoginSuccess:function(t){var e=JSON.parse(atob(decodeURIComponent(t.split(".")[1])));this.logonStatus=!0,this.userID=e.UserID,this.userName=e.UserName,sessionStorage.token=t},onSignOut:function(){this.logonStatus=!1,this.userID="Guest",this.userName="Guest",delete sessionStorage.token}},created:function(){var t=this;setInterval(function(){t.logonStatus&&t.$http.post("auth/refresh",{},{headers:{Authorization:"Bearer "+sessionStorage.token}}).then(function(t){var e=t.data.token;e&&(sessionStorage.token=e)}).catch(function(e){t.onSignOut()})},18e4)}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("app-navigation-bar",{attrs:{"user-id":t.userID,"user-name":t.userName,"logged-on":t.logonStatus},on:{showLoginModal:t.showModal,signOut:t.onSignOut}}),t._v(" "),s("router-view",{key:t.$route.fullPath}),t._v(" "),s("app-footer"),t._v(" "),s("app-login",{attrs:{show:t.LMVisible},on:{hideModal:t.hideModal,login:t.onLoginSuccess}})],1)},staticRenderFns:[]},u=s("VU/8")(l,c,!1,null,null,null).exports,v=s("/ocq"),m={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v(this._s(this.msg))])])},staticRenderFns:[]},d=s("VU/8")({data:function(){return{msg:"404 Not Found"}}},m,!1,null,null,null).exports,b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br")])},staticRenderFns:[]},_=s("VU/8")({data:function(){return{msg:"Home"}}},b,!1,null,null,null).exports,p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br")])},staticRenderFns:[]},g=s("VU/8")({name:"account",data:function(){return{msg:"Account"}},methods:{bringPrivates:function(){},bringReservations:function(){}}},p,!1,null,null,null).exports,h=s("Gu7T"),f=s.n(h),C={props:["MovieID","MovieTitle","ReleaseDate","PlayTime","Genre","Director","Actors","Description","PosterIMG"],data:function(){return{comments:[],loadPoint:1,loadCount:10,isEnd:!1,commentRate:0,commentContent:""}},methods:{showModal:function(){this.$refs.modalRef.show(),this.BringComments()},hideModal:function(){this.$refs.modalRef.hide()},AddComment:function(t){var e=this;t.preventDefault(),this.$http.post("api/comment",{movieID:this.MovieID,rate:this.commentRate,content:this.commentContent},{headers:{Authorization:"Bearer "+sessionStorage.token}}).then(function(t){e.ResetComments(),e.BringComments()})},ResetComments:function(){this.comments=[],this.loadPoint=1,this.loadCount=10},DeleteComment:function(){},BringComments:function(){var t=this;this.isEnd||this.$http.get("api/comment",{params:{movieID:this.MovieID,from:this.loadPoint,to:this.loadPoint+this.loadCount-1}}).then(function(e){var s,n=e.data;n.length>0&&((s=t.comments).push.apply(s,f()(n)),t.loadPoint+=n.length);(n.length<t.loadCount||n.length<=0)&&(t.isEnd=!0)})}}},M={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-card",{staticClass:"mx-1 my-1",staticStyle:{"max-width":"14rem"},attrs:{"img-top":"","img-alt":"Image","img-fluid":"","img-src":this.PosterIMG,title:this.MovieTitle},on:{click:t.showModal}},[s("p",{staticClass:"card-text"},[t._v("\n            A Movie!\n        ")])]),t._v(" "),s("b-modal",{ref:"modalRef",attrs:{size:"lg",lazy:"","hide-header":"","hide-footer":""}},[s("b-container",[s("b-img",{staticClass:"mt-3",attrs:{fluid:"",thumbnail:"",src:this.PosterIMG}}),t._v(" "),s("h1",{staticClass:"mx-2 mt-2 mb-3",staticStyle:{display:"inline-block"}},[t._v(t._s(t.MovieTitle))]),s("b-badge",{attrs:{variant:"info"}},[t._v(t._s(t.Genre))]),t._v(" "),s("p",{staticClass:"my-1"},[s("strong",[t._v("PlayTime:")]),t._v(" "+t._s(t.PlayTime))]),t._v(" "),s("p",{staticClass:"my-1"},[s("strong",[t._v("Released Date:")]),t._v(" "+t._s(t.ReleaseDate))]),t._v(" "),s("p",{staticClass:"my-1"},[s("strong",[t._v("Director:")]),t._v(" "+t._s(t.Director))]),t._v(" "),s("p",{staticClass:"my-1"},[s("strong",[t._v("Actors:")]),t._v(" "+t._s(t.Actors))]),t._v(" "),s("p",{staticClass:"mt-1 mb-2"},[s("strong",[t._v("Description:")])]),t._v(" "),s("pre",{staticClass:"mx-2 mt-1 mb-3"},[t._v(t._s(t.Description))]),t._v(" "),s("div",[s("p",{staticClass:"mb-1"},[s("strong",[t._v("Comments:")])]),t._v(" "),s("b-card-group",{staticClass:"my-3"},[t._l(t.comments,function(e){return s("b-card",{key:e.CommentID},[s("strong",{staticClass:"mr-4"},[t._v(t._s(e.CustomerID))]),t._v(" "+t._s(e.Content)+"\n                    ")])}),t._v(" "),t.isEnd?t._e():s("b-button",{staticClass:"mt-1",attrs:{block:"",variant:"secondary"}},[t._v("See more")])],2),t._v(" "),s("b-form",{on:{submit:t.AddComment}},[s("b-form-textarea",{attrs:{id:"textarea1","no-resize":"",rows:3,"max-rows":5},model:{value:t.commentContent,callback:function(e){t.commentContent=e},expression:"commentContent"}}),t._v(" "),s("b-form-radio-group",{staticClass:"my-1",attrs:{required:"",buttons:"","button-variant":"outline-warning"},model:{value:t.commentRate,callback:function(e){t.commentRate=e},expression:"commentRate"}},t._l(10,function(e){return s("b-form-radio",{key:e,attrs:{value:e}},[t._v(t._s(e))])})),t._v(" "),s("b-button",{staticClass:"my-1 float-right",attrs:{type:"submit",variant:"primary"}},[t._v("Comment")])],1)],1)],1),t._v(" "),s("b-btn",{staticClass:"mt-3",attrs:{block:"",variant:"outline-danger"},on:{click:t.hideModal}},[t._v("Close")])],1)],1)},staticRenderFns:[]},y={components:{"movie-info":s("VU/8")(C,M,!1,null,null,null).exports},created:function(){var t=this;window.onscroll=function(){document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight&&t.BringMovies()},this.BringMovies()},data:function(){return{movies:[],loadPoint:1,loadCount:8,btnText:"Bring me more",isEnd:!1}},methods:{BringMovies:function(){var t=this;this.isEnd||this.$http.get("api/movie",{params:{from:this.loadPoint,to:this.loadPoint+this.loadCount-1,search:this.$route.query.searchOption||""}}).then(function(e){var s,n=e.data;n.length>0&&((s=t.movies).push.apply(s,f()(n)),t.loadPoint+=n.length);(n.length<t.loadCount||n.length<=0)&&(t.isEnd=!0,t.btnText="We brougth all the movies for you")})}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{attrs:{fluid:""}},[s("b-card-group",{attrs:{deck:""}},t._l(t.movies,function(e){return s("movie-info",t._b({key:e.MovieID},"movie-info",e,!1))})),t._v(" "),s("b-button",{staticClass:"my-2",attrs:{block:"",variant:"outline-primary",Disabled:t.isEnd},on:{click:t.BringMovies}},[t._v(t._s(t.btnText))])],1)},staticRenderFns:[]},k=s("VU/8")(y,w,!1,null,null,null).exports,R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"hello"},[s("h1",[t._v(t._s(t.msg))]),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br"),t._v(" "),s("br")])},staticRenderFns:[]},x=s("VU/8")({data:function(){return{msg:"Reservate"}},methods:{bringSchedules:function(){},reservate:function(){},cancelReservation:function(){}}},R,!1,null,null,null).exports;n.a.use(v.a);var $=new v.a({mode:"history",routes:[{path:"*",component:d},{path:"/",name:"home",component:_},{path:"/account",name:"account",component:g},{path:"/movie",name:"movie",component:k},{path:"/reservate",name:"reservate",component:x}]}),D=s("mtWM"),I=s.n(D);s("Jmt5"),s("9M+g");n.a.config.productionTip=!1,n.a.use(r.a),n.a.prototype.$http=I.a,new n.a({el:"#app",router:$,components:{App:u},template:"<App/>"})},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.8ae33fb3d22b9a90e20b.js.map